{% extends "base.html" %}

{% block title %}Welcome - Job Portal{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="bg-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">Find Your Dream Job</h1>
                <p class="lead mb-4">Connect with top employers and discover opportunities that match your skills and aspirations.</p>
                {% if not current_user.is_authenticated %}
                    <div class="d-flex gap-3">
                        <a href="{{ url_for('google_auth.login') }}" class="btn btn-light btn-lg">
                            <i class="fab fa-google me-2"></i>Sign in with Google
                        </a>
                        <a href="{{ url_for('candidate_routes.jobs') }}" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-briefcase me-2"></i>Browse Jobs
                        </a>
                    </div>
                {% else %}
                     {# If user is authenticated, maybe a link to their dashboard or jobs page #}
                     <a href="{{ url_for('candidate_routes.jobs') }}" class="btn btn-light btn-lg">
                        <i class="fas fa-search me-2"></i>Explore Open Roles
                    </a>
                {% endif %}
            </div>
            <div class="col-lg-6 text-center">
                <i class="fas fa-briefcase" style="font-size: 12rem; opacity: 0.3;"></i>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="container py-5">
    <div class="row">
        <div class="col-12 text-center mb-5">
            <h2 class="display-5 fw-bold">How It Works</h2>
            <p class="lead text-muted">Simple steps to connect talent with opportunity</p>
        </div>
    </div>
    
    <div class="row g-4 justify-content-center">
        <!-- Browse Jobs (Public) -->
        <div class="col-lg-4">
            <div class="card h-100 text-center">
                <div class="card-body d-flex flex-column"> {# Added d-flex #}
                    <div class="mb-4">
                        <i class="fas fa-search text-success" style="font-size: 3rem;"></i>
                    </div>
                    <h4 class="card-title">Browse Jobs</h4>
                    <ul class="list-unstyled text-start small"> {# Made text smaller #}
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>View all available opportunities</li>
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Filter by location, type, etc.</li>
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>No registration required to browse</li>
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Get job details instantly</li>
                    </ul>
                    <a href="{{ url_for('candidate_routes.jobs') }}" class="btn btn-success mt-auto">Browse Jobs Now</a> {# mt-auto to push to bottom #}
                </div>
            </div>
        </div>
        
        <!-- For Candidates -->
        <div class="col-lg-4">
            <div class="card h-100 text-center">
                <div class="card-body d-flex flex-column">
                    <div class="mb-4">
                        <i class="fas fa-user-graduate text-primary" style="font-size: 3rem;"></i>
                    </div>
                    <h4 class="card-title">For Candidates</h4>
                    <ul class="list-unstyled text-start small">
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Create your professional profile</li>
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Upload CV & necessary documents</li>
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Get discovered by recruiters</li>
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Apply directly via LinkedIn links</li>
                    </ul>
                    {% if not current_user.is_authenticated %}
                        {# CHANGED HREF HERE #}
                        <a href="{{ url_for('auth_routes.register') }}" class="btn btn-primary mt-auto">Join as Candidate</a>
                    {% else %}
                        {% if current_user.role == 'candidate' or current_user.role == 'pending_setup' %}
                            <a href="{{ url_for('candidate_routes.profile') }}" class="btn btn-primary mt-auto">Go to My Profile</a>
                        {% endif %}
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- For Companies -->
        <div class="col-lg-4">
            <div class="card h-100 text-center">
                <div class="card-body d-flex flex-column">
                    <div class="mb-4">
                        <i class="fas fa-building text-info" style="font-size: 3rem;"></i>
                    </div>
                    <h4 class="card-title">For Companies</h4>
                    <ul class="list-unstyled text-start small">
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Search qualified candidates</li>
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Filter by skills and experience</li>
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>View detailed candidate profiles</li>
                        <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Download CVs and documents</li>
                    </ul>
                    {% if not current_user.is_authenticated %}
                        {# CHANGED HREF HERE #}
                        <a href="{{ url_for('auth_routes.register') }}" class="btn btn-info mt-auto">Join as Company</a>
                    {% else %}
                         {% if current_user.role == 'company' %}
                            <a href="{{ url_for('company_routes.dashboard') }}" class="btn btn-info mt-auto">Go to Company Dashboard</a>
                        {% endif %}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Stats Section -->
<div class="bg-light py-5"> {# Changed to bg-light for contrast if dark theme is default #}
    <div class="container">
        <div class="row text-center">
            <div class="col-md-4 mb-4">
                <div class="display-4 fw-bold text-primary mb-2">
                    <i class="fas fa-users"></i>
                </div>
                <h5>Talented Candidates</h5>
                <p class="text-muted small">Connect with skilled professionals ready to contribute.</p>
            </div>
            <div class="col-md-4 mb-4">
                <div class="display-4 fw-bold text-info mb-2">
                    <i class="fas fa-briefcase"></i>
                </div>
                <h5>Quality Job Opportunities</h5>
                <p class="text-muted small">Accurate and detailed job postings via AI extraction.</p>
            </div>
            <div class="col-md-4 mb-4">
                <div class="display-4 fw-bold text-success mb-2">
                    <i class="fas fa-handshake"></i>
                </div>
                <h5>Perfect Matches</h5>
                <p class="text-muted small">Advanced filtering for optimal candidate matching.</p>
            </div>
        </div>
    </div>
</div>

<!-- CTA Section -->
{% if not current_user.is_authenticated %}
<div class="container py-5">
    <div class="row">
        <div class="col-12 text-center">
            <h2 class="display-5 fw-bold mb-3">Ready to Get Started?</h2>
            <p class="lead mb-4">Register today or sign in with Google to find your next opportunity.</p>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
                <a href="{{ url_for('auth_routes.register') }}" class="btn btn-primary btn-lg px-4 gap-3">
                    <i class="fas fa-user-plus me-2"></i>Create Account
                </a>
                <a href="{{ url_for('google_auth.login') }}" class="btn btn-outline-light btn-lg px-4"> {# Changed to outline-light for better contrast if bg is dark #}
                    <i class="fab fa-google me-2"></i>Sign in with Google
                </a>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}
